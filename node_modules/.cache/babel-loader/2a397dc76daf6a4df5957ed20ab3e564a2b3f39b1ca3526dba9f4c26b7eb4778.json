{"ast":null,"code":"var _jsxFileName = \"/home/meirof/React/MyReadBook/src/BookDetails.js\";\nimport React, { useState } from \"react\";\nimport \"./styles.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst array = [{\n  \"id\": 1,\n  \"date\": {\n    \"id\": 1,\n    \"name\": \"202001\"\n  },\n  \"item\": {\n    \"id\": 1,\n    \"name\": \"I1\"\n  },\n  \"price\": 100\n}, {\n  \"id\": 2,\n  \"date\": {\n    \"id\": 2,\n    \"name\": \"202002\"\n  },\n  \"item\": {\n    \"id\": 1,\n    \"name\": \"I1\"\n  },\n  \"price\": 200\n}, {\n  \"id\": 3,\n  \"date\": {\n    \"id\": 2,\n    \"name\": \"202002\"\n  },\n  \"item\": {\n    \"id\": 2,\n    \"name\": \"I2\"\n  },\n  \"price\": 300\n}];\nconst BookDetails = book_details => {\n  const items_dicc = array.reduce((acc, e) => {\n    if (!acc[e[\"item\"][\"name\"]]) {\n      acc[e[\"item\"][\"name\"]] = {\n        [e[\"date\"][\"name\"]]: e[\"price\"]\n      };\n    } else {\n      acc[e[\"item\"][\"name\"]][e[\"date\"][\"name\"]] = e[\"price\"];\n    }\n    return acc;\n  }, {});\n  const dates = [...new Set(Object.keys(items_dicc).map(i => Object.keys(items_dicc[i])).flat())];\n  const totalSumPerDate = {};\n  dates.forEach(date => {\n    const sumOnDate = Object.values(items_dicc).reduce((acc, curr) => {\n      acc = acc + (curr[date] ? curr[date] : 0);\n      return acc;\n    }, 0);\n    totalSumPerDate[[date]] = sumOnDate;\n  });\n  const totalSum = Object.values(totalSumPerDate).reduce((acc, curr) => acc + curr, 0);\n  const sumPerItem = {};\n  Object.keys(items_dicc).forEach(key => {\n    const sum = Object.values(items_dicc[key]).reduce((acc, curr) => acc + curr, 0);\n    sumPerItem[[key]] = sum;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ITEM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), dates.map(date => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 32\n          }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TOTAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [Object.keys(items_dicc).map(item => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 16\n            }, this), dates.map(date => /*#__PURE__*/_jsxDEV(\"td\", {\n              children: items_dicc[item][date] || ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: sumPerItem[item]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 14\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"TOTAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 12\n          }, this), Object.values(totalSumPerDate).map(item => /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 58\n          }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: totalSum\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["React","useState","array","BookDetails","book_details","items_dicc","reduce","acc","e","dates","Set","Object","keys","map","i","flat","totalSumPerDate","forEach","date","sumOnDate","values","curr","totalSum","sumPerItem","key","sum","item"],"sources":["/home/meirof/React/MyReadBook/src/BookDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./styles.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nconst array = [\n    {\n      \"id\": 1,\n      \"date\": {\n        \"id\": 1,\n        \"name\": \"202001\"\n      },\n      \"item\": {\n        \"id\": 1,\n        \"name\": \"I1\"\n      },\n      \"price\": 100\n      },\n      {\n      \"id\": 2,\n      \"date\": {\n        \"id\": 2,\n        \"name\": \"202002\"\n      },\n      \"item\": {\n        \"id\": 1,\n        \"name\": \"I1\"\n      },\n      \"price\": 200\n    },\n    {\n      \"id\": 3,\n      \"date\": {\n        \"id\": 2,\n        \"name\": \"202002\"\n      },\n      \"item\": {\n        \"id\": 2,\n        \"name\": \"I2\"\n      },\n      \"price\": 300\n    },\n  ]\n\nconst BookDetails = (book_details) => {\n    const items_dicc = array.reduce((acc, e) => {\n        if (!acc[e[\"item\"][\"name\"]]) {\n          acc[e[\"item\"][\"name\"]] = {\n            [e[\"date\"][\"name\"]]: e[\"price\"]\n          }\n        } else {\n          acc[e[\"item\"][\"name\"]][e[\"date\"][\"name\"]] = e[\"price\"]\n        }\n        return acc\n      }, {})\n    \n      const dates = [...new Set(Object.keys(items_dicc).map(i => Object.keys(items_dicc[i])).flat())]\n    \n      const totalSumPerDate = {};\n    \n    dates.forEach(date => {\n      const sumOnDate = Object.values(items_dicc).reduce((acc, curr) => {\n      acc = acc + (curr[date]? curr[date] : 0);\n      return acc;\n      }, 0);\n      totalSumPerDate[[date]] = sumOnDate;\n    });\n    \n    const totalSum = Object.values(totalSumPerDate).reduce((acc, curr) => acc+curr, 0);\n    \n    const sumPerItem = {};\n    \n    Object.keys(items_dicc).forEach(key => {\n       const sum = Object.values(items_dicc[key]).reduce((acc, curr) => acc + curr, 0);\n       sumPerItem[[key]] = sum;\n    });\n  return (\n    <div> \n      <table>\n        <thead>\n          <tr>\n            <th>ITEM</th>\n            {dates.map(date => <th>{date}</th>)}\n            <th>TOTAL</th>\n          </tr>\n        </thead>\n        <tbody>\n       {\n         Object.keys(items_dicc).map((item) => {\n           return (\n             <tr>\n               <td>{item}</td>\n               {dates.map((date) => <td>{items_dicc[item][date] || ''}</td>)}\n               <td>{sumPerItem[item]}</td>\n             </tr>\n           )\n         })\n       }\n         <tr>\n           <td>TOTAL</td>\n             {Object.values(totalSumPerDate).map(item => <td>{item}</td>)}\n           <td>{totalSum}</td>\n         </tr>\n       </tbody>\n   </table>\n</div>\n\n  )\n\n}\n\nexport default BookDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}